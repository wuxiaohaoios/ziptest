(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Itemize"],{"0352":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-container",attrs:{draggable:"false",ondragstart:"return false;",onselectstart:"return false;",oncontextmenu:"return false;"}},[s("div",{staticClass:"l-user"},[s("div",{staticClass:"l-user-section r"},[s("span",{staticClass:"l-info",on:{click:t.userTarget}},[s("label",{staticClass:"l-user-img-bg"},[s("img",{staticClass:"l-user-img",attrs:{draggable:"false",src:t.userHead}})]),s("span",{staticClass:"l-name"},[t._v(t._s(t.userName))])])])]),s("div",{staticClass:"l-game l-start"},[s("span",{staticClass:"start",on:{click:function(e){return t.touchStart("game")}}})]),s("div",{staticClass:"l-szg l-start"},[s("div",{staticClass:"l-fish"}),s("span",{staticClass:"start fish",on:{click:function(e){return t.touchStart("szg")}}})]),s("div",{staticClass:"l-adult",class:{hide:!t.adult,show:t.adult}},[s("div",{staticClass:"l-img"},[s("span",{staticClass:"l-adult-btn",on:{click:t.closeAdult}})])])])},a=[],r=s("1da1"),i=(s("96cf"),s("99af"),s("e9c4"),s("d75a")),u=s("8fb8"),o=new u["a"],c={name:"itemize",data:function(){return{adult:!0,gameId:0,status:0,userInfo:{userId:"",environment:"",token:"",visitorFlag:!0},userHead:s("2d0a"),userName:""}},created:function(){var t=this;this.initAdult();var e=i["a"].JSBridge.getInfo();e&&t.setUserInfo(e),window.appSdk={writeToken:function(e){t.setUserInfo(e)}}},mounted:function(){},methods:{touchStart:function(t){"szg"===t?this.getCode():"game"===t&&(this.gameId&&this.status&&"1"===this.status&&!this.userInfo.visitorFlag?this.$router.push({path:"/game-level",query:{level:this.gameId,status:this.status}}):this.$router.push({path:"/game-level",query:{}}))},userTarget:function(){this.userInfo.visitorFlag?i["a"].JSBridge.goRegister():i["a"].JSBridge.goUserCenter()},getCode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.getTokenCode();case 2:s=e.sent,n=s.data,a=s.status,0===a&&n&&(r="https://".concat(t.userInfo.environment?t.userInfo.environment+"-":"","szg.dayuan1997.com?code=").concat(n,"&redirect_uri=").concat(window.location.href).concat(t.userInfo.environment?"&env="+t.userInfo.environment:""),window.open(r,"_self"));case 6:case"end":return e.stop()}}),e)})))()},setUserInfo:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.gameId=e.$route.query.level,e.status=e.$route.query.status,t&&(e.userInfo=JSON.parse(t),localStorage.setItem("userInfo",JSON.stringify(e.userInfo)),Boolean(e.gameId&&e.status&&"1"===e.status&&!e.userInfo.visitorFlag)?e.doneGame(e.gameId):e.initInfo());case 3:case"end":return s.stop()}}),s)})))()},doneGame:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n={userId:e.userInfo.userId,gameId:t,type:1},s.next=3,o.levelMod(n);case 3:if(a=s.sent,r=a.status,0!==r){s.next=8;break}return s.next=8,e.initInfo();case 8:case"end":return s.stop()}}),s)})))()},initInfo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.userInfo.visitorFlag){e.next=8;break}return e.next=3,o.gameVisitorList();case 3:s=e.sent,n=s.data,t._userAgent(n),e.next=14;break;case 8:return e.next=10,o.gameUserList();case 10:a=e.sent,r=a.data,i=a.status,0===i&&t._userAgent(r);case 14:case"end":return e.stop()}}),e)})))()},_userAgent:function(t){this.userHead=t.headImg?t.headImg:s("2d0a"),this.userName=t.nickName?t.nickName:t.cnName},initAdult:function(){sessionStorage.getItem("adult")?this.adult=!1:this.adult=!0},closeAdult:function(){sessionStorage.setItem("adult","1"),this.adult=!1}}},l=c,d=(s("6104"),s("2877")),f=Object(d["a"])(l,n,a,!1,null,"e9349fae",null);e["default"]=f.exports},"2d0a":function(t,e,s){t.exports=s.p+"img/user_visitor.83045e0b.png"},"515b":function(t,e,s){},6104:function(t,e,s){"use strict";s("515b")}}]);
//# sourceMappingURL=Itemize.1aa4fa1e.js.map